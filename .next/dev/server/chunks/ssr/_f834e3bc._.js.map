{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/SoulConnect/lib/zodiac.ts"],"sourcesContent":["export type Zodiac = {\r\n  name: string\r\n  start: { month: number; day: number }\r\n  end: { month: number; day: number }\r\n  insight: string\r\n  habit: string\r\n  element: 'Fire'|'Earth'|'Air'|'Water'\r\n}\r\n\r\nconst ZODIACS: Zodiac[] = [\r\n  { name: 'Aries', start: {month:3,day:21}, end:{month:4,day:19}, insight: 'Aries: Embrace bold choices and gentle action today.', habit: 'Do a 3-minute movement to energize yourself.', element: 'Fire' },\r\n  { name: 'Taurus', start: {month:4,day:20}, end:{month:5,day:20}, insight: 'Taurus: Ground in comfort and reliable rhythms.', habit: 'Tend to one small comfort (tea, blanket).', element: 'Earth' },\r\n  { name: 'Gemini', start: {month:5,day:21}, end:{month:6,day:20}, insight: 'Gemini: Share curiosities and listen with warmth.', habit: 'Send one kind message.', element: 'Air' },\r\n  { name: 'Cancer', start: {month:6,day:21}, end:{month:7,day:22}, insight: 'Cancer: Prioritize emotional rest and soft boundaries.', habit: 'Journal one feeling for 5 mins.', element: 'Water' },\r\n  { name: 'Leo', start: {month:7,day:23}, end:{month:8,day:22}, insight: 'Leo: Focus on creativity & self‚Äëexpression today.', habit: 'Share a small compliment.', element: 'Fire' },\r\n  { name: 'Virgo', start: {month:8,day:23}, end:{month:9,day:22}, insight: 'Virgo: Small acts of care make relationships steady.', habit: 'Organize one tiny area.', element: 'Earth' },\r\n  { name: 'Libra', start: {month:9,day:23}, end:{month:10,day:22}, insight: 'Libra: Notice balance and choose gentle fairness.', habit: 'Reflect on a recent conversation.', element: 'Air' },\r\n  { name: 'Scorpio', start: {month:10,day:23}, end:{month:11,day:21}, insight: 'Scorpio: Depth is your ally; be honest but kind.', habit: 'Breathe slowly for 3 minutes.', element: 'Water' },\r\n  { name: 'Sagittarius', start: {month:11,day:22}, end:{month:12,day:21}, insight: 'Sagittarius: Explore an idea with playful curiosity.', habit: 'Read one inspiring paragraph.', element: 'Fire' },\r\n  { name: 'Capricorn', start: {month:12,day:22}, end:{month:1,day:19}, insight: 'Capricorn: Take steady steps toward a shared goal.', habit: 'Plan one achievable task.', element: 'Earth' },\r\n  { name: 'Aquarius', start: {month:1,day:20}, end:{month:2,day:18}, insight: 'Aquarius: Offer space for individuality and new perspectives.', habit: 'Learn one new fact.', element: 'Air' },\r\n  { name: 'Pisces', start: {month:2,day:19}, end:{month:3,day:20}, insight: 'Pisces: Compassion and imagination warm connections.', habit: 'Spend 5 minutes in quiet reflection.', element: 'Water' },\r\n]\r\n\r\nexport function getZodiacFromDate(d: Date){\r\n  if (!d || isNaN(d.getTime())) return null\r\n  const month = d.getUTCMonth() + 1\r\n  const day = d.getUTCDate()\r\n\r\n  for(const z of ZODIACS){\r\n    const startM = z.start.month\r\n    const startD = z.start.day\r\n    const endM = z.end.month\r\n    const endD = z.end.day\r\n\r\n    if(startM < endM){\r\n      if((month === startM && day >= startD) || (month === endM && day <= endD) || (month > startM && month < endM)){\r\n        return z\r\n      }\r\n    } else { // wraps year end (Capricorn)\r\n      if((month === startM && day >= startD) || (month === endM && day <= endD) || (month > startM || month < endM)){\r\n        return z\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nexport function signToElement(sign: string){\r\n  if(!sign) return ''\r\n  const s = sign.toLowerCase()\r\n  if(['aries','leo','sagittarius'].includes(s)) return 'Fire'\r\n  if(['taurus','virgo','capricorn'].includes(s)) return 'Earth'\r\n  if(['gemini','libra','aquarius'].includes(s)) return 'Air'\r\n  if(['cancer','scorpio','pisces'].includes(s)) return 'Water'\r\n  return ''\r\n}\r\n\r\nconst ELEMENT_MAP: Record<string, 'Fire'|'Earth'|'Air'|'Water'> = ZODIACS.reduce((acc, z) => (acc[z.name] = z.element, acc), {} as any)\r\n\r\nexport function getCompatibility(signA: string, signB: string){\r\n  const elemA = ELEMENT_MAP[signA]\r\n  const elemB = ELEMENT_MAP[signB]\r\n  if(!elemA || !elemB) return { error: 'Unknown sign(s)' }\r\n\r\n  let summary = 'Neutral energy'\r\n  let strengths = 'Shared respect and curiosity.'\r\n  let conflicts = 'Different approaches may need translation.'\r\n\r\n  if(elemA === elemB){\r\n    summary = 'Harmonious ‚Äî similar rhythms.'\r\n    strengths = 'Natural understanding, shared values.'\r\n    conflicts = 'May need novelty to avoid stagnation.'\r\n  } else if((elemA === 'Fire' && elemB === 'Air') || (elemA === 'Air' && elemB === 'Fire')){\r\n    summary = 'High energy & creative spark.'\r\n    strengths = 'Exciting conversation, mutual inspiration.'\r\n    conflicts = 'Can overlook emotional needs.'\r\n  } else if((elemA === 'Earth' && elemB === 'Water') || (elemA === 'Water' && elemB === 'Earth')){\r\n    summary = 'Stable & nurturing.'\r\n    strengths = 'Reliability and emotional depth.'\r\n    conflicts = 'Risk of over-dependence or stuck patterns.'\r\n  } else if((elemA === 'Fire' && elemB === 'Water') || (elemA === 'Water' && elemB === 'Fire')){\r\n    summary = 'Tension but potential growth.'\r\n    strengths = 'Passion and emotional insight.'\r\n    conflicts = 'Clashes of impulse vs. feeling.'\r\n  } else if((elemA === 'Air' && elemB === 'Earth') || (elemA === 'Earth' && elemB === 'Air')){\r\n    summary = 'Practical vs. abstract dance.'\r\n    strengths = 'Good balance of ideas & structure.'\r\n    conflicts = 'Miscommunications about priorities.'\r\n  } else {\r\n    summary = 'Complementary energies.'\r\n  }\r\n\r\n  // small sanitization of strengths/conflicts to ensure strings\r\n  return { summary, strengths, conflicts }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///D:/SoulConnect/lib/astro.ts"],"sourcesContent":["// Pure-JS astronomical helpers (approximate) for Moon longitude and Ascendant\r\n// Good for consumer-facing Moon & Rising sign placement (no external libs)\r\n\r\nexport function toJulianDay(date: Date){\r\n  // date is JS Date in UTC\r\n  const year = date.getUTCFullYear()\r\n  let month = date.getUTCMonth() + 1\r\n  const day = date.getUTCDate() + (date.getUTCHours()/24) + (date.getUTCMinutes()/1440) + (date.getUTCSeconds()/86400)\r\n\r\n  let Y = year\r\n  let M = month\r\n  if(M <= 2){ Y = year - 1; M = month + 12 }\r\n\r\n  const A = Math.floor(Y/100)\r\n  const B = 2 - A + Math.floor(A/4)\r\n  const JD = Math.floor(365.25*(Y + 4716)) + Math.floor(30.6001*(M+1)) + day + B - 1524.5\r\n  return JD\r\n}\r\n\r\nfunction normalizeAngle(deg: number){\r\n  let a = deg % 360\r\n  if(a < 0) a += 360\r\n  return a\r\n}\r\n\r\nfunction deg2rad(d: number){ return d * Math.PI / 180 }\r\nfunction rad2deg(r: number){ return r * 180 / Math.PI }\r\n\r\nexport function zodiacFromDegrees(deg: number){\r\n  const d = normalizeAngle(deg)\r\n  const index = Math.floor(d / 30)\r\n  const signs = ['Aries','Taurus','Gemini','Cancer','Leo','Virgo','Libra','Scorpio','Sagittarius','Capricorn','Aquarius','Pisces']\r\n  const sign = signs[index]\r\n  const degInSign = d - (index * 30)\r\n  return { sign, index, deg: degInSign }\r\n}\r\n\r\nexport function julianCenturiesSinceJ2000(JD: number){\r\n  return (JD - 2451545.0) / 36525.0\r\n}\r\n\r\nexport function meanObliquityOfEcliptic(T: number){\r\n  // in degrees, approximate\r\n  return 23.439291 - 0.0130042 * T - 1.64e-7 * T * T + 5.04e-7 * T * T * T\r\n}\r\n\r\nexport function greenwichMeanSiderealTime(JD: number){\r\n  const T = (JD - 2451545.0) / 36525.0\r\n  let GMST = 280.46061837 + 360.98564736629 * (JD - 2451545) + 0.000387933 * T * T - (T*T*T)/38710000\r\n  return normalizeAngle(GMST)\r\n}\r\n\r\nexport function moonEclipticLongitudeDeg(JD: number){\r\n  // Approximate Moon longitude using a few periodic terms (sufficient for sign-level accuracy)\r\n  const T = (JD - 2451545.0) / 36525.0\r\n  // Mean elongation of the Moon\r\n  const D = normalizeAngle(297.8501921 + 445267.1114034 * T - 0.0018819 * T*T + (T*T*T)/545868 - (T*T*T*T)/113065000)\r\n  // Sun's mean anomaly\r\n  const M = normalizeAngle(357.5291092 + 35999.0502909 * T - 0.0001536 * T*T + (T*T*T)/24490000)\r\n  // Moon's mean anomaly\r\n  const Mp = normalizeAngle(134.9633964 + 477198.8675055 * T + 0.0087414 * T*T + (T*T*T)/69699 - (T*T*T*T)/14712000)\r\n  // Moon's argument of latitude\r\n  const F = normalizeAngle(93.2720950 + 483202.0175233 * T - 0.0036539 * T*T - (T*T*T)/3526000 + (T*T*T*T)/863310000)\r\n\r\n  // Mean longitude of the Moon\r\n  let Lp = normalizeAngle(218.3164477 + 481267.88123421 * T - 0.0015786 * T*T + (T*T*T)/538841 - (T*T*T*T)/65194000)\r\n\r\n  // A handful of largest periodic terms (table of terms truncated) ‚Äî coefficients in degrees\r\n  const terms = [\r\n    {D:0, M:0, Mp:1, F:0, coeff:-6.289},\r\n    {D:2, M:0, Mp:-1, F:0, coeff:1.274},\r\n    {D:2, M:0, Mp:0, F:0, coeff:0.658},\r\n    {D:0, M:0, Mp:2, F:0, coeff:0.213},\r\n    {D:0, M:1, Mp:0, F:0, coeff:-0.185},\r\n    {D:0, M:0, Mp:0, F:2, coeff:-0.114},\r\n    {D:2, M:0, Mp:-2, F:0, coeff:0.058},\r\n    {D:2, M:-1, Mp:-1, F:0, coeff:0.057},\r\n    {D:2, M:0, Mp:1, F:0, coeff:0.053},\r\n  ]\r\n\r\n  let sum = 0\r\n  for(const t of terms){\r\n    const arg = deg2rad(t.D*D + t.M*M + t.Mp*Mp + t.F*F)\r\n    sum += t.coeff * Math.sin(arg)\r\n  }\r\n\r\n  Lp += sum\r\n  Lp = normalizeAngle(Lp)\r\n  return Lp\r\n}\r\n\r\nexport function ascendantDeg(JD: number, latDeg: number, lonDeg: number){\r\n  // Compute local sidereal time in degrees\r\n  const GMST = greenwichMeanSiderealTime(JD)\r\n  const LST = normalizeAngle(GMST + lonDeg)\r\n\r\n  const T = (JD - 2451545.0) / 36525.0\r\n  const eps = meanObliquityOfEcliptic(T)\r\n\r\n  const lstRad = deg2rad(LST)\r\n  const epsRad = deg2rad(eps)\r\n  const latRad = deg2rad(latDeg)\r\n\r\n  // Ascendant formula (approximate): compute ecliptic longitude of the Ascendant\r\n  const sinL = Math.sin(lstRad)\r\n  const cosL = Math.cos(lstRad)\r\n  const tanLat = Math.tan(latRad)\r\n\r\n  const x = Math.atan2(sinL * Math.cos(epsRad) - tanLat * Math.sin(epsRad), cosL)\r\n  let asc = rad2deg(x)\r\n  // convert from [-180,180] to 0-360\r\n  asc = normalizeAngle(asc)\r\n  return asc\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///D:/SoulConnect/components/ZodiacAvatar.tsx"],"sourcesContent":["import React from 'react'\r\n\r\ntype Props = {\r\n  sign: string\r\n  compact?: boolean // image-only\r\n  size?: number // px\r\n}\r\n\r\nexport default function ZodiacAvatar({ sign, compact, size = 72 }: Props){\r\n  const src = `/constellation-${sign.toLowerCase()}.svg`\r\n  const s = Number(size) || 72\r\n  if(compact){\r\n    return (\r\n      <div className=\"flex items-center justify-center\" style={{ width: s, height: s }}>\r\n        <img src={src} alt={`${sign} constellation`} width={s} height={s} className=\"rounded-md object-cover max-w-full h-auto\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-3\">\r\n      <img src={src} alt={`${sign} constellation`} width={s} height={s} className=\"rounded-md max-w-full h-auto\" />\r\n      <div className=\"\">\r\n        <div className=\"text-sm font-semibold\">{sign}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;AAQe,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,EAAS;IACtE,MAAM,MAAM,CAAC,eAAe,EAAE,KAAK,WAAW,GAAG,IAAI,CAAC;IACtD,MAAM,IAAI,OAAO,SAAS;IAC1B,IAAG,SAAQ;QACT,qBACE,8OAAC;YAAI,WAAU;YAAmC,OAAO;gBAAE,OAAO;gBAAG,QAAQ;YAAE;sBAC7E,cAAA,8OAAC;gBAAI,KAAK;gBAAK,KAAK,GAAG,KAAK,cAAc,CAAC;gBAAE,OAAO;gBAAG,QAAQ;gBAAG,WAAU;;;;;;;;;;;IAGlF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,KAAK;gBAAK,KAAK,GAAG,KAAK,cAAc,CAAC;gBAAE,OAAO;gBAAG,QAAQ;gBAAG,WAAU;;;;;;0BAC5E,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAAyB;;;;;;;;;;;;;;;;;AAIhD","debugId":null}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file:///D:/SoulConnect/app/soulmatch/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useState, useRef, useEffect } from 'react'\r\nimport { getZodiacFromDate, getCompatibility, signToElement } from '../../lib/zodiac'\r\nimport { toJulianDay, moonEclipticLongitudeDeg, ascendantDeg, zodiacFromDegrees } from '../../lib/astro'\r\nimport ZodiacAvatar from '../../components/ZodiacAvatar'\r\n\r\nconst SIGNS = ['Aries','Taurus','Gemini','Cancer','Leo','Virgo','Libra','Scorpio','Sagittarius','Capricorn','Aquarius','Pisces']\r\n\r\nfunction parseDateInput(input: string): Date | null {\r\n  if(!input) return null\r\n  input = input.trim()\r\n  // Accept dd-mm-yyyy\r\n  const dmy = /^(\\d{2})-(\\d{2})-(\\d{4})$/.exec(input)\r\n  if(dmy){\r\n    const day = Number(dmy[1])\r\n    const month = Number(dmy[2])\r\n    const year = Number(dmy[3])\r\n    const dt = new Date(Date.UTC(year, month-1, day))\r\n    if(!isNaN(dt.getTime())) return dt\r\n  }\r\n  // Accept yyyy-mm-dd\r\n  const ymd = /^(\\d{4})-(\\d{2})-(\\d{2})$/.exec(input)\r\n  if(ymd){\r\n    const year = Number(ymd[1])\r\n    const month = Number(ymd[2])\r\n    const day = Number(ymd[3])\r\n    const dt = new Date(Date.UTC(year, month-1, day))\r\n    if(!isNaN(dt.getTime())) return dt\r\n  }\r\n  // fallback: try Date constructor\r\n  const tryDt = new Date(input)\r\n  if(!isNaN(tryDt.getTime())) return tryDt\r\n  return null\r\n}\r\n\r\nexport default function SoulMatch(){\r\n  const [yourDobRaw, setYourDobRaw] = useState('')\r\n  const [partnerDobRaw, setPartnerDobRaw] = useState('')\r\n  const [partnerSign, setPartnerSign] = useState('')\r\n  const [timeRaw, setTimeRaw] = useState('')\r\n  const [coordsRaw, setCoordsRaw] = useState('')\r\n  const [unlockDeep, setUnlockDeep] = useState(false)\r\n  const [tone, setTone] = useState<'new'|'confused'|'fight'|'grow' | ''>('')\r\n  const [focus, setFocus] = useState<'communication'|'trust'|'future'|'needs' | ''>('')\r\n  const [result, setResult] = useState<any>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const loadingRef = useRef<number | null>(null)\r\n  const [miniPlan, setMiniPlan] = useState<string[] | null>(null)\r\n  const [shareSvg, setShareSvg] = useState<string | null>(null)\r\n  const [shareImgUrl, setShareImgUrl] = useState<string | null>(null)\r\n  const [sharing, setSharing] = useState(false)\r\n  const [copySuccess, setCopySuccess] = useState<string | null>(null)\r\n  const [reflection, setReflection] = useState<string | null>(null)\r\n  const [reflectionSubmitted, setReflectionSubmitted] = useState(false)\r\n  const [partnerPerspective, setPartnerPerspective] = useState(false)\r\n  const displayPrimary = result ? (partnerPerspective ? result.partner : result.yours) : null\r\n  const displayOther = result ? (partnerPerspective ? result.yours : result.partner) : null\r\n\r\n  // Try to resolve a place name to coordinates using OpenStreetMap Nominatim (client-side).\r\n  // Returns { lat, lon } or null.\r\n  async function resolveCoordsFromPlace(q: string){\r\n    if(!q) return null\r\n    // quick check if user already provided lat,lon\r\n    const cm = /(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)/.exec(q)\r\n    if(cm) return { lat: Number(cm[1]), lon: Number(cm[2]) }\r\n    try{\r\n      const url = 'https://nominatim.openstreetmap.org/search?format=json&limit=1&q=' + encodeURIComponent(q)\r\n      const res = await fetch(url, { headers: { 'Accept': 'application/json' } })\r\n      const body = await res.json()\r\n      if(Array.isArray(body) && body.length > 0){\r\n        const it = body[0]\r\n        if(it && it.lat && it.lon) return { lat: Number(it.lat), lon: Number(it.lon) }\r\n      }\r\n    }catch(e){\r\n      // ignore network errors ‚Äî fallback to null\r\n    }\r\n    return null\r\n  }\r\n\r\n  function buildReport(yours: any, partner: any, compatibility: any, toneChoice: string, focusChoice: string, perspective: 'you'|'partner' = 'you'){\r\n    return (\r\n      <div className=\"mt-4 p-4 rounded bg-white/90 space-y-4\">\r\n        <section>\r\n          {(() => {\r\n            const score = computeCompatibilityScore(yours.name, partner.name, compatibility)\r\n            const primary = perspective === 'partner' ? partner : yours\r\n            const other = perspective === 'partner' ? yours : partner\r\n            return (\r\n              <div className=\"rounded-lg p-4 bg-gradient-to-tr from-white to-gray-50 border\">\r\n                <div className=\"flex flex-col md:flex-row items-start gap-4\">\r\n                  <div className=\"flex-none\">\r\n                      <div className=\"w-28 h-28 md:w-36 md:h-36 rounded-full flex items-center justify-center bg-gradient-to-tr from-pink-400 to-purple-600 text-white text-2xl md:text-3xl font-bold shadow\">{score}%</div>\r\n                    </div>\r\n\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <h3 className=\"font-semibold text-lg\">How You Two Feel Together</h3>\r\n                      {perspective === 'partner' ? <div className=\"text-xs text-indigo-600\">Viewing: Partner‚Äôs perspective</div> : null}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600 mt-1\">{scoreMessage(score)}</div>\r\n\r\n                    <div className=\"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                      <div className=\"p-3 rounded bg-white border\">\r\n                        <div className=\"font-semibold flex items-center gap-2\"><span className=\"text-xl\">‚ú®</span> When it‚Äôs good</div>\r\n                        <ul className=\"mt-2 list-disc list-inside text-sm space-y-1\">\r\n                          <li>{toneChoice === 'new' ? 'You two are full of warm curiosity ‚Äî everything feels possible and tender.' : toneChoice === 'confused' ? 'You catch small moments of connection; clarity is beginning to appear.' : toneChoice === 'fight' ? 'You love deeply ‚Äî even when one of you acts tough, the care runs beneath the surface.' : toneChoice === 'grow' ? 'You are learning each other; steady practice is bringing hopeful change.' : 'You two love and care for each other ‚Äî there is a steady, loyal warmth here.'}</li>\r\n                        </ul>\r\n                      </div>\r\n\r\n                      <div className=\"p-3 rounded bg-white border\">\r\n                        <div className=\"font-semibold flex items-center gap-2\"><span className=\"text-xl\">‚ö†Ô∏è</span> When it‚Äôs hard</div>\r\n                        <ul className=\"mt-2 list-disc list-inside text-sm space-y-1\">\r\n                          <li>{toneChoice === 'new' ? 'Excitement or nerves can make small missteps feel bigger than they are.' : toneChoice === 'confused' ? 'Mixed signals can create doubt ‚Äî gentle clarifying questions help you reconnect.' : toneChoice === 'fight' ? 'One of you moves faster while the other needs reassurance ‚Äî feelings can get louder than words.' : toneChoice === 'grow' ? 'Old patterns surface under stress; keep leaning into small check-ins and agreed practices.' : 'Sometimes you move at different speeds; naming needs helps you bridge the gap.'}</li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-3 text-xs italic text-gray-600\">This isn‚Äôt incompatibility ‚Äî it‚Äôs learning each other‚Äôs pace.</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })()}\r\n        </section>\r\n\r\n        <section>\r\n          <div className=\"flex flex-col gap-4\">\r\n            <div className=\"flex items-center my-2\">\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n              <div className=\"px-3 text-xs text-gray-400 font-medium\">Strengths</div>\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded bg-white/95 border\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"text-2xl\">‚ù§Ô∏è</div>\r\n                <div>\r\n                  <div className=\"font-semibold\">Strengths</div>\r\n                  <div className=\"mt-2 text-sm text-slate-700\">Passion + emotional insight{focusChoice === 'trust' ? ' ‚Äî a reliable anchor when you show care.' : ''}</div>\r\n                  <div className=\"mt-2 text-sm text-slate-700\">Steady loyalty and follow-through{focusChoice === 'future' ? ' ‚Äî a base for planning together.' : ''}</div>\r\n                  <div className=\"mt-2 text-sm text-slate-700\">Shared sense of ‚Äúwe‚Äôre in this together‚Äù{focusChoice === 'communication' ? ' ‚Äî nurture this with curious questions.' : ''}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center my-2\">\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n              <div className=\"px-3 text-xs text-gray-400 font-medium\">Challenges</div>\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded bg-white/95 border\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"text-2xl\">‚ö°</div>\r\n                <div>\r\n                  <div className=\"font-semibold\">Challenges</div>\r\n                  <ul className=\"mt-2 list-disc ml-5 text-sm space-y-1 text-slate-700\">\r\n                    <li>Fast reactions can clash with deep feelings</li>\r\n                    <li>Assuming instead of naming your needs</li>\r\n                    <li>Different processing speeds under stress</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center my-2\">\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n              <div className=\"px-3 text-xs text-gray-400 font-medium\">Plan</div>\r\n              <div className=\"flex-1 h-px bg-gray-200\"></div>\r\n            </div>\r\n\r\n            <div className=\"p-4 rounded bg-white/95 border\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className=\"text-2xl\">üå±</div>\r\n                <div>\r\n                  <div className=\"font-semibold\">Growth ‚Äî 4-week starter</div>\r\n                  <ol className=\"list-decimal ml-5 mt-2 text-sm text-slate-700 space-y-1\">\r\n                    <li><strong>Week 1</strong> ‚Äî Curiosity: short daily questions to open conversation.</li>\r\n                    <li><strong>Week 2</strong> ‚Äî Ritual: small shared routines to build reliability.</li>\r\n                    <li><strong>Week 3</strong> ‚Äî Pause & express: name needs before reacting.</li>\r\n                    <li><strong>Week 4</strong> ‚Äî Gratitude: nightly appreciation to stabilize warmth.</li>\r\n                  </ol>\r\n                  <div className=\"mt-2 text-xs text-gray-600\">Tip: pick one micro-habit from Week 1 and practice it daily.</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Emotional Regulation moved out as its own full-width block (stacked, not columns) */}\r\n          <div className=\"mt-4 p-4 rounded bg-white/95 border\">\r\n            <div className=\"font-semibold\">Emotional Regulation ‚Äî Practical</div>\r\n            <div className=\"mt-3 flex flex-col gap-3\">\r\n              {(() => {\r\n                const yoursPsych = psychRegulationForElement(yours?.element)\r\n                const partnerPsych = psychRegulationForElement(partner?.element)\r\n                return (\r\n                  <>\r\n                    <div className=\"p-3 rounded bg-white/50 border\">\r\n                      <div className=\"font-semibold\">You ‚Äî {yours?.name || 'You'}</div>\r\n                      <div className=\"text-xs italic mt-1 text-slate-600\">{yoursPsych.why}</div>\r\n                      <ul className=\"mt-2 list-disc ml-5 text-sm text-slate-700 space-y-1\">\r\n                        {yoursPsych.practices.map((p: string, i: number) => (\r\n                          <li key={i}>{p}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n\r\n                    <div className=\"p-3 rounded bg-white/50 border\">\r\n                      <div className=\"font-semibold\">Partner ‚Äî {partner?.name || 'Partner'}</div>\r\n                      <div className=\"text-xs italic mt-1 text-slate-600\">{partnerPsych.why}</div>\r\n                      <ul className=\"mt-2 list-disc ml-5 text-sm text-slate-700 space-y-1\">\r\n                        {partnerPsych.practices.map((p: string, i: number) => (\r\n                          <li key={i}>{p}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </>\r\n                )\r\n              })()}\r\n\r\n              <div className=\"text-xs text-gray-600\">This blends emotional-intelligence research with sign-level tendencies ‚Äî practical, evidence-informed ideas rather than predictions.</div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section>\r\n          <h4 className=\"font-semibold\">üí´ Micro-Reflection</h4>\r\n          <p className=\"mt-2\">How this relationship often feels:</p>\r\n          <ul className=\"mt-2 list-disc ml-5\">\r\n            <li>‚ù§Ô∏è Warm & intense</li>\r\n            <li>üî• Passionate & alive</li>\r\n            <li>üåß Stormy when misunderstood</li>\r\n          </ul>\r\n          <p className=\"mt-2 italic\">Two different languages ‚Äî one real love.</p>\r\n        </section>\r\n\r\n        <section className=\"mt-4\">\r\n          <div className=\"font-semibold\">Want to improve communication this week?</div>\r\n          <p className=\"text-sm mt-1\">Get a gentle 3-day mini plan tailored to your focus to turn small practice into real change.</p>\r\n          <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\r\n            <button onClick={()=>generate3DayMiniPlan(focusChoice, toneChoice)} className=\"px-3 py-2 rounded bg-pink-500 text-white text-sm w-full sm:w-auto\">Get 3-day mini plan</button>\r\n            <button onClick={()=>{ setMiniPlan(null) }} className=\"px-3 py-2 rounded bg-gray-200 text-sm w-full sm:w-auto\">Clear</button>\r\n          </div>\r\n\r\n          {miniPlan ? (\r\n            <div id=\"mini-plan-card\" className=\"mt-3 p-3 rounded bg-white/95 text-sm space-y-2\">\r\n              {miniPlan.map((item, idx) => (\r\n                <div key={idx}><strong>Day {idx+1}:</strong> {item}</div>\r\n              ))}\r\n            </div>\r\n          ) : null}\r\n        </section>\r\n\r\n        <section>\r\n          <h4 className=\"font-semibold\">üåô Curious About a Deeper Layer?</h4>\r\n          <p className=\"mt-2\">Unlock moon & rising signs (optional) to understand emotional needs & communication style more accurately.</p>\r\n        </section>\r\n\r\n        <section>\r\n          <p className=\"mt-2 font-medium\">Love isn‚Äôt about perfect matching ‚Äî it‚Äôs about learning each other. You two have real potential. Handle with care, not speed.</p>\r\n        </section>\r\n        <section className=\"mt-4\">\r\n          <div className=\"font-semibold\">Before you leave‚Ä¶ How did this feel?</div>\r\n          <p className=\"text-sm mt-1 text-gray-600\">Your quick answer helps us improve the experience.</p>\r\n          <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\r\n            {['Accurate','Made me think','I learned something new','Hmm not sure'].map((opt)=>{\r\n              const active = reflection === opt\r\n              return (\r\n                <button key={opt} onClick={()=>{ setReflection(opt); setReflectionSubmitted(true); saveReflection(opt, { yours, partner, compatibility, tone: toneChoice, focus: focusChoice }) }} className={`px-3 py-2 rounded border text-sm ${active ? 'bg-pink-100 border-pink-300' : 'bg-white'}`}>\r\n                  {opt}\r\n                </button>\r\n              )\r\n            })}\r\n          </div>\r\n          {reflectionSubmitted ? (\r\n            <div className=\"mt-2 text-xs text-green-700\">Thanks ‚Äî your answer was saved for this session.</div>\r\n          ) : null}\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function elementSpeak(el: string){\r\n    switch(el){\r\n      case 'Fire': return 'initiative and warmth'\r\n      case 'Earth': return 'stability and care'\r\n      case 'Air': return 'ideas and curious conversation'\r\n      case 'Water': return 'emotional depth and empathy'\r\n      default: return 'a unique quality'\r\n    }\r\n  }\r\n\r\n  function elementAccent(element?: string){\r\n    if(!element) return 'bg-gradient-to-tr from-gray-200 to-gray-300 text-gray-800'\r\n    switch(element.toLowerCase()){\r\n      case 'fire': return 'bg-gradient-to-tr from-orange-300 to-pink-400 text-white'\r\n      case 'water': return 'bg-gradient-to-tr from-blue-300 to-indigo-400 text-white'\r\n      case 'air': return 'bg-gradient-to-tr from-sky-300 to-emerald-300 text-white'\r\n      case 'earth': return 'bg-gradient-to-tr from-emerald-300 to-lime-300 text-white'\r\n      default: return 'bg-gradient-to-tr from-gray-200 to-gray-300 text-gray-800'\r\n    }\r\n  }\r\n\r\n  function computeCompatibilityScore(signA: string, signB: string, compatibility: any){\r\n    // Base score\r\n    let score = 60\r\n    const same = signA === signB\r\n    if(same) score += 20\r\n\r\n    // Map zodiac sign -> element using shared helper\r\n    const elemA = signToElement(signA)\r\n    const elemB = signToElement(signB)\r\n\r\n    // boost/deduct based on wording in compatibility.summary\r\n    const s = (compatibility && compatibility.summary) ? String(compatibility.summary).toLowerCase() : ''\r\n    if(s.includes('harmonious') || s.includes('harmonic')) score += 10\r\n    if(s.includes('high energy') || s.includes('creative spark')) score += 5\r\n    if(s.includes('stable') || s.includes('nurturing')) score += 5\r\n    if(s.includes('tension') || s.includes('clashes') || s.includes('conflicts')) score -= 10\r\n    if(s.includes('miscommunications')) score -= 5\r\n\r\n    // element-based heuristics (use elements, not sign strings)\r\n    if(elemA && elemB){\r\n      if(elemA === elemB && !same) score += 8 // same element tends to feel naturally compatible\r\n      const fireAir = (elemA === 'Fire' || elemA === 'Air' || elemB === 'Fire' || elemB === 'Air')\r\n      if(fireAir && elemA !== elemB) score += 5\r\n    }\r\n\r\n    // clamp\r\n    if(score < 30) score = 30\r\n    if(score > 95) score = 95\r\n    return Math.round(score)\r\n  }\r\n\r\n  function scoreMessage(score: number){\r\n    if(score >= 85) return 'Radiant synergy ‚Äî there‚Äôs a joyful spark and reliable warmth when you show up for each other.'\r\n    if(score >= 70) return 'Strong potential ‚Äî with patient communication this connection can deepen beautifully.'\r\n    if(score >= 55) return 'Balanced ‚Äî good chemistry, some work needed to bridge differences; small rituals help.'\r\n    if(score >= 40) return 'Tender work required ‚Äî there‚Äôs real feeling, but you‚Äôll need steady practices to stay close.'\r\n    return 'Fragile but real ‚Äî approach gently, name needs often, and celebrate small wins.'\r\n  }\r\n\r\n  // Psychology + EI layer: element-aware regulation tips\r\n  function psychRegulationForElement(element?: string){\r\n    switch((element||'').toLowerCase()){\r\n      case 'fire':\r\n        return {\r\n          title: 'Move & Express',\r\n          why: 'Fire signs often regulate by releasing energy through movement and direct expression.',\r\n          practices: [\r\n            'Daily short bursts of movement (walk, dance, push-ups) to shift intensity.',\r\n            'Speak your feelings in short, concrete ‚ÄúI feel‚Ä¶ because‚Ä¶‚Äù statements.'\r\n          ]\r\n        }\r\n      case 'water':\r\n        return {\r\n          title: 'Validate & Name Emotions',\r\n          why: 'Water signs soothe through being seen and naming emotional states.',\r\n          practices: [\r\n            'Name the feeling: ‚ÄúI‚Äôm feeling X right now‚Äù and invite the partner to mirror it.',\r\n            'Use gentle validation language: ‚ÄúThat makes sense ‚Äî I get why you‚Äôd feel that.‚Äù'\r\n          ]\r\n        }\r\n      case 'air':\r\n        return {\r\n          title: 'Reflect & Reframe',\r\n          why: 'Air signs regulate with language, labeling thoughts and creating mental distance.',\r\n          practices: [\r\n            'Try thought-labeling: ‚ÄúThat thought is just one possible story.‚Äù',\r\n            'Use a short 3-minute discussion to clarify meanings and reduce misinterpretation.'\r\n          ]\r\n        }\r\n      case 'earth':\r\n        return {\r\n          title: 'Ground & Routine',\r\n          why: 'Earth signs find safety in steady routines and predictable acts of care.',\r\n          practices: [\r\n            'Create a small reliable ritual (shared check-in, a daily message) to build trust.',\r\n            'Use grounding techniques: 5 senses check, steady breathing, and small tasks.'\r\n          ]\r\n        }\r\n      default:\r\n        return {\r\n          title: 'Simple Regulation',\r\n          why: 'Different people find different paths ‚Äî try naming needs, a short pause, or a small ritual.',\r\n          practices: [\r\n            'Pause for 3 deep breaths before responding.',\r\n            'Name one need and one small action that would help.'\r\n          ]\r\n        }\r\n    }\r\n  }\r\n\r\n  function generate3DayMiniPlan(focusChoice: string, toneChoice: string){\r\n    // Create gentle 3-day micro-tasks tailored to focus and tone\r\n    const plan: string[] = []\r\n    if(focusChoice === 'communication'){\r\n      plan.push('Day 1 ‚Äî 10-minute curiosity check-in: each person shares one highlight and one small worry.')\r\n      plan.push('Day 2 ‚Äî Active listening practice: one speaks for 3 minutes while the other paraphrases back.')\r\n      plan.push('Day 3 ‚Äî Appreciation note: each shares one thing the other did that felt supportive this week.')\r\n    } else if(focusChoice === 'trust'){\r\n      plan.push('Day 1 ‚Äî Small reliability act: pick one tiny promise and complete it.')\r\n      plan.push('Day 2 ‚Äî Share a low-stakes vulnerability and one concrete way the partner can help.')\r\n      plan.push('Day 3 ‚Äî A brief ritual: confirm one plan for the week and one accountability step.')\r\n    } else if(focusChoice === 'future'){\r\n      plan.push('Day 1 ‚Äî List one shared value and one small step toward it.')\r\n      plan.push('Day 2 ‚Äî Mini planning session: allocate 15 minutes to brainstorm one joint goal.')\r\n      plan.push('Day 3 ‚Äî Commit to one tiny shared action and schedule it in calendar.')\r\n    } else if(focusChoice === 'needs'){\r\n      plan.push('Day 1 ‚Äî Name one need each and a small way the partner can offer it.')\r\n      plan.push('Day 2 ‚Äî Practice asking for what you need in a specific, concrete way.')\r\n      plan.push('Day 3 ‚Äî Reflect together: what worked and what felt safe?')\r\n    } else {\r\n      plan.push('Day 1 ‚Äî Quick curiosity check-in: share one thing that mattered today.')\r\n      plan.push('Day 2 ‚Äî Small appreciative action: say thank you and name why.')\r\n      plan.push('Day 3 ‚Äî Plan one tiny shared moment (10 minutes) to connect.')\r\n    }\r\n\r\n    // tone can slightly tweak wording (softly)\r\n    if(toneChoice === 'fight'){\r\n      for(let i=0;i<plan.length;i++) plan[i] = plan[i].replace(/\\b(you|each)\\b/gi, 'you both')\r\n    } else if(toneChoice === 'new'){\r\n      plan[0] = 'Day 1 ‚Äî A gentle curiosity check: ask one open question and listen.'\r\n    }\r\n\r\n    setMiniPlan(plan)\r\n    // scroll to plan (small UX nicety)\r\n    setTimeout(()=>{\r\n      const el = document.getElementById('mini-plan-card')\r\n      if(el) el.scrollIntoView({ behavior: 'smooth', block: 'center' })\r\n    }, 120)\r\n  }\r\n\r\n  function makeSimpleSignGlyph(sign: string){\r\n    // Use short label for signs; emoji fallback\r\n    const glyphs: Record<string,string> = {\r\n      Aries: '‚ôà', Taurus: '‚ôâ', Gemini: '‚ôä', Cancer: '‚ôã', Leo: '‚ôå', Virgo: '‚ôç', Libra: '‚ôé', Scorpio: '‚ôè', Sagittarius: '‚ôê', Capricorn: '‚ôë', Aquarius: '‚ôí', Pisces: '‚ôì'\r\n    }\r\n    return glyphs[sign] || sign.slice(0,2)\r\n  }\r\n\r\n  function buildShareSVG(data: any){\r\n    const width = 1200\r\n    const height = 630\r\n    const yours = data.yours || { name: '‚Äî' }\r\n    const partner = data.partner || { name: '‚Äî' }\r\n    const score = computeCompatibilityScore(yours.name, partner.name, data.compatibility || {})\r\n    const phrase = scoreMessage(score)\r\n\r\n    const bg = `linear-gradient(135deg,#fff7fb 0%,#fef6e6 100%)`\r\n\r\n    // simple SVG with zodiac glyphs, names, score and phrase\r\n    const svg = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n  <svg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}' viewBox='0 0 ${width} ${height}'>\r\n    <defs>\r\n      <style><![CDATA[\r\n        .title{font:700 42px/1.1 Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; fill:#111827}\r\n        .score{font:700 60px/1 Inter, system-ui; fill:#c026d3}\r\n        .sub{font:400 20px/1 Inter, system-ui; fill:#374151}\r\n        .small{font:400 16px/1 Inter, system-ui; fill:#6b7280}\r\n      ]]></style>\r\n    </defs>\r\n    <rect width='100%' height='100%' rx='24' fill='#fff' />\r\n    <g>\r\n      <rect x='36' y='36' width='${width-72}' height='${height-72}' rx='18' fill='#fff' stroke='#f3e8ff' stroke-width='2'/>\r\n      <text x='80' y='110' class='title'>SoulMatch</text>\r\n      <text x='80' y='165' class='sub'>${escapeXml(yours.name)} √ó ${escapeXml(partner.name)}</text>\r\n\r\n      <g transform='translate(80,200)'>\r\n        <circle cx='60' cy='60' r='56' fill='#fff0f6' stroke='#fecaca' stroke-width='2'/>\r\n        <text x='60' y='78' text-anchor='middle' font-size='42' fill='#b91c1c'>${escapeXml(makeSimpleSignGlyph(yours.name))}</text>\r\n        <text x='60' y='120' text-anchor='middle' class='small'>${escapeXml(yours.name)}</text>\r\n\r\n        <rect x='160' y='18' width='420' height='160' rx='12' fill='#faf5ff' stroke='#e9d5ff' />\r\n        <text x='360' y='80' text-anchor='middle' class='score'>${score}%</text>\r\n        <text x='360' y='110' text-anchor='middle' class='sub' fill='#4b5563'>Compatibility Energy</text>\r\n      </g>\r\n\r\n      <g transform='translate(640,200)'>\r\n        <circle cx='60' cy='60' r='56' fill='#f0fdf4' stroke='#bbf7d0' stroke-width='2'/>\r\n        <text x='60' y='78' text-anchor='middle' font-size='42' fill='#065f46'>${escapeXml(makeSimpleSignGlyph(partner.name))}</text>\r\n        <text x='60' y='120' text-anchor='middle' class='small'>${escapeXml(partner.name)}</text>\r\n      </g>\r\n\r\n      <foreignObject x='80' y='380' width='1040' height='200'>\r\n        <div xmlns='http://www.w3.org/1999/xhtml' style='font-family: Inter, system-ui; color:#374151; font-size:20px; line-height:1.3;'>\r\n          <div style='font-weight:600; margin-bottom:8px;'>${escapeXml(phrase)}</div>\r\n          <div style='color:#6b7280; font-size:16px;'>‚Äú${escapeXml((data.compatibility && data.compatibility.summary) || 'Different rhythms, but a strong pull.') }‚Äù</div>\r\n        </div>\r\n      </foreignObject>\r\n    </g>\r\n  </svg>`\r\n    return svg\r\n  }\r\n\r\n  function escapeXml(s: string){\r\n    return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;')\r\n  }\r\n\r\n  async function svgToPngBlob(svg: string, width = 1200, height = 630){\r\n    return await new Promise<Blob | null>((resolve)=>{\r\n      const img = new Image()\r\n      const svg64 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg)\r\n      img.onload = ()=>{\r\n        try{\r\n          const c = document.createElement('canvas')\r\n          c.width = width\r\n          c.height = height\r\n          const ctx = c.getContext('2d')\r\n          if(!ctx){ resolve(null); return }\r\n          ctx.fillStyle = '#fff'\r\n          ctx.fillRect(0,0,width,height)\r\n          ctx.drawImage(img,0,0,width,height)\r\n          c.toBlob((b)=>resolve(b), 'image/png')\r\n        }catch(e){ resolve(null) }\r\n      }\r\n      img.onerror = ()=> resolve(null)\r\n      img.src = svg64\r\n    })\r\n  }\r\n\r\n  async function createShareCard(data: any){\r\n    setSharing(true)\r\n    try{\r\n      const svg = buildShareSVG(data)\r\n      setShareSvg(svg)\r\n      const blob = await svgToPngBlob(svg)\r\n      if(blob){\r\n        const url = URL.createObjectURL(blob)\r\n        if(shareImgUrl) URL.revokeObjectURL(shareImgUrl)\r\n        setShareImgUrl(url)\r\n      }\r\n    }finally{\r\n      setSharing(false)\r\n    }\r\n  }\r\n\r\n  async function downloadShare(){\r\n    if(!shareImgUrl) return\r\n    const a = document.createElement('a')\r\n    a.href = shareImgUrl\r\n    a.download = 'soulmatch-card.png'\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    a.remove()\r\n  }\r\n\r\n  async function copyShareImage(){\r\n    if(!shareImgUrl) return false\r\n    try{\r\n      const r = await fetch(shareImgUrl)\r\n      const b = await r.blob()\r\n      // try Clipboard API\r\n      // @ts-ignore\r\n      if(navigator.clipboard && (window as any).ClipboardItem){\r\n        // @ts-ignore\r\n        await navigator.clipboard.write([new ClipboardItem({ 'image/png': b })])\r\n        return true\r\n      }\r\n    }catch(e){ /* ignore */ }\r\n    return false\r\n  }\r\n\r\n  // cleanup object URL when it changes/unmounts\r\n  useEffect(()=>{\r\n    return ()=>{\r\n      if(shareImgUrl) URL.revokeObjectURL(shareImgUrl)\r\n    }\r\n  }, [shareImgUrl])\r\n\r\n  function saveReflection(choice: string, snapshot: any){\r\n    try{\r\n      const key = 'soulmatch_reflections'\r\n      const now = new Date().toISOString()\r\n      const entry = { choice, timestamp: now, snapshot }\r\n      const raw = sessionStorage.getItem(key)\r\n      const arr = raw ? JSON.parse(raw) : []\r\n      arr.push(entry)\r\n      sessionStorage.setItem(key, JSON.stringify(arr))\r\n    }catch(e){\r\n      // ignore storage errors\r\n      console.warn('Failed to save reflection', e)\r\n    }\r\n  }\r\n\r\n  function handleCheck(e: React.FormEvent){\r\n    e.preventDefault()\r\n    setResult(null)\r\n    // show soft reading animation before computing\r\n    if(loadingRef.current){\r\n      window.clearTimeout(loadingRef.current)\r\n      loadingRef.current = null\r\n    }\r\n    const yourDt = parseDateInput(yourDobRaw)\r\n    const partnerDt = parseDateInput(partnerDobRaw)\r\n\r\n    const yours = yourDt ? getZodiacFromDate(yourDt) : null\r\n\r\n    let partner: any = null\r\n    if(partnerSign){\r\n      partner = { name: partnerSign, element: undefined, insight: '' }\r\n    } else if(partnerDt){\r\n      partner = getZodiacFromDate(partnerDt)\r\n    }\r\n\r\n    if(!yours || !partner){\r\n      setResult({ error: 'Please provide your DOB and either a partner DOB or pick their sign. Use dd-mm-yyyy or yyyy-mm-dd.' })\r\n      return\r\n    }\r\n\r\n    // Start loading animation and compute after 1.5s\r\n    setLoading(true)\r\n    loadingRef.current = window.setTimeout(()=>{\r\n      (async ()=>{\r\n        try{\r\n          const compatibility = getCompatibility(yours.name, partner.name)\r\n\r\n          // compute moon/rising if unlocked and we have time + coords\r\n          let deep: any = null\r\n          try{\r\n            if(unlockDeep && timeRaw && coordsRaw && yourDt){\r\n              const tmatch = /^([0-2]\\d):([0-5]\\d)$/.exec(timeRaw)\r\n              let lat: number | null = null\r\n              let lon: number | null = null\r\n\r\n              // first try lat,lon inline\r\n              const cmatch = /(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)/.exec(coordsRaw)\r\n              if(cmatch){\r\n                lat = Number(cmatch[1])\r\n                lon = Number(cmatch[2])\r\n              } else {\r\n                // attempt client-side geocoding of place name\r\n                const resolved = await resolveCoordsFromPlace(coordsRaw)\r\n                if(resolved){ lat = resolved.lat; lon = resolved.lon }\r\n              }\r\n\r\n              if(tmatch && lat !== null && lon !== null){\r\n                const hour = Number(tmatch[1])\r\n                const minute = Number(tmatch[2])\r\n\r\n                // approximate timezone offset from longitude\r\n                const tzOffsetHours = Math.round(lon / 15)\r\n                // use yourDt which is a Date (UTC midnight for the day); build UTC date\r\n                const year = yourDt.getUTCFullYear()\r\n                const month = yourDt.getUTCMonth()\r\n                const day = yourDt.getUTCDate()\r\n                const utcDate = new Date(Date.UTC(year, month, day, hour - tzOffsetHours, minute || 0, 0))\r\n                const JD = toJulianDay(utcDate)\r\n                const moonLon = moonEclipticLongitudeDeg(JD)\r\n                const asc = ascendantDeg(JD, lat, lon)\r\n                deep = { moon: zodiacFromDegrees(moonLon), asc: zodiacFromDegrees(asc) }\r\n              }\r\n            }\r\n          }catch(e){ /* ignore deep calc errors */ }\r\n\r\n          setResult({ yours, partner, compatibility, deep, tone, focus })\r\n        }finally{\r\n          setLoading(false)\r\n          loadingRef.current = null\r\n        }\r\n      })()\r\n    }, 1500)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    return ()=>{\r\n      if(loadingRef.current) window.clearTimeout(loadingRef.current)\r\n    }\r\n  },[])\r\n\r\n  return (\r\n    <div className=\"w-full min-h-screen bg-gray-50 py-10 px-6\">\r\n      <div className=\"mx-auto w-full max-w-5xl\">\r\n      <h2 className=\"text-3xl font-extrabold mb-1\">\r\n        <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-pink-600 via-purple-600 to-indigo-700\">SoulMatch</span>\r\n        <span className=\"ml-2 text-base font-medium text-gray-700\">‚Äî Understand Your Connection, Deeply</span>\r\n      </h2>\r\n      <p className=\"soft-microcopy text-gray-600\">A gentle, colorful space to explore how you complement each other ‚Äî not predictions, but clarity & growth.</p>\r\n\r\n      {/* Emotional hook + tone buttons */}\r\n      <div className=\"mt-4 p-3 rounded-lg\" style={{background: 'linear-gradient(90deg, rgba(252,231,243,0.6), rgba(237,233,255,0.6))', boxShadow: '0 6px 18px rgba(15,23,42,0.04)'}}>\r\n        <div className=\"font-medium\">What are you exploring today?</div>\r\n        <div className=\"mt-2 flex gap-2 flex-wrap\">\r\n          <button type=\"button\" onClick={()=>setTone('new')} className={`px-3 py-1 rounded ${tone==='new'?'bg-gradient-to-tr from-pink-300 to-pink-500 text-white':'bg-white/90'}`}>üíï New connection</button>\r\n          <button type=\"button\" onClick={()=>setTone('confused')} className={`px-3 py-1 rounded ${tone==='confused'?'bg-gradient-to-tr from-pink-300 to-pink-500 text-white':'bg-white/90'}`}>ü•∫ We‚Äôre confused</button>\r\n          <button type=\"button\" onClick={()=>setTone('fight')} className={`px-3 py-1 rounded ${tone==='fight'?'bg-gradient-to-tr from-orange-300 to-pink-400 text-white':'bg-white/90'}`}>üíî After a fight</button>\r\n          <button type=\"button\" onClick={()=>setTone('grow')} className={`px-3 py-1 rounded ${tone==='grow'?'bg-gradient-to-tr from-emerald-300 to-lime-400 text-white':'bg-white/90'}`}>üå± We‚Äôre trying to grow</button>\r\n        </div>\r\n        <div className=\"mt-2 text-xs text-gray-600\">Selecting one slightly changes the tone of the results, so you feel understood.</div>\r\n      </div>\r\n\r\n      {/* Small reflection micro-input to personalize the reading */}\r\n      <div className=\"mt-3 p-3 rounded bg-white/90\">\r\n        <div className=\"font-medium\">What do you want to understand better?</div>\r\n        <div className=\"mt-2 flex gap-2 flex-wrap\">\r\n              <button type=\"button\" onClick={()=>setFocus('communication')} className={`px-3 py-1 rounded ${focus==='communication'?'bg-gradient-to-tr from-sky-200 to-pink-200 text-white':'bg-white/90'}`}>‚óã Communication</button>\r\n            <button type=\"button\" onClick={()=>setFocus('trust')} className={`px-3 py-1 rounded ${focus==='trust'?'bg-gradient-to-tr from-emerald-200 to-emerald-400 text-white':'bg-white/90'}`}>‚óã Trust & security</button>\r\n            <button type=\"button\" onClick={()=>setFocus('future')} className={`px-3 py-1 rounded ${focus==='future'?'bg-gradient-to-tr from-yellow-200 to-orange-300 text-white':'bg-white/90'}`}>‚óã Future direction</button>\r\n            <button type=\"button\" onClick={()=>setFocus('needs')} className={`px-3 py-1 rounded ${focus==='needs'?'bg-gradient-to-tr from-indigo-200 to-sky-300 text-white':'bg-white/90'}`}>‚óã Emotional needs</button>\r\n        </div>\r\n        <div className=\"mt-2 text-xs text-gray-600\">Selecting this slightly tailors the wording and the suggested practices so it feels more personal.</div>\r\n      </div>\r\n\r\n      <form className=\"mt-4 space-y-3\" onSubmit={handleCheck} aria-label=\"SoulMatch form\">\r\n        <div>\r\n          <label htmlFor=\"yourDob\" className=\"block text-sm\">Your Birthday üéÇ</label>\r\n          <input id=\"yourDob\" value={yourDobRaw} onChange={e=>setYourDobRaw(e.target.value)} placeholder=\"dd-mm-yyyy (e.g. 15-08-1990)\" className=\"mt-1 rounded-md p-2 w-full\" pattern=\"\\d{2}-\\d{2}-\\d{4}\" inputMode=\"numeric\" aria-describedby=\"yourDobHelp\" />\r\n          <div id=\"yourDobHelp\" className=\"text-xs text-gray-600 mt-1\">So we understand your natural energy. Format: <code>dd-mm-yyyy</code>.</div>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"partnerDob\" className=\"block text-sm\">Their Birthday üíï</label>\r\n          <input id=\"partnerDob\" value={partnerDobRaw} onChange={e=>setPartnerDobRaw(e.target.value)} placeholder=\"dd-mm-yyyy (e.g. 05-05-1988)\" className=\"mt-1 rounded-md p-2 w-full\" pattern=\"\\d{2}-\\d{2}-\\d{4}\" inputMode=\"numeric\" aria-describedby=\"partnerDobHelp\" />\r\n          <div id=\"partnerDobHelp\" className=\"text-xs text-gray-600 mt-1\">To see how your energies interact. You can also pick their sun sign.</div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm\">or choose their sun-sign</label>\r\n          <select value={partnerSign} onChange={e=>setPartnerSign(e.target.value)} className=\"mt-1 rounded-md p-2 w-full\">\r\n            <option value=\"\">-- pick --</option>\r\n            {SIGNS.map(s => (\r\n              <option key={s} value={s}>{s}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"birthTime\" className=\"block text-sm\">Birth Time (optional)</label>\r\n          <input id=\"birthTime\" value={timeRaw} onChange={e=>setTimeRaw(e.target.value)} placeholder=\"HH:MM (24h) e.g. 07:30\" className=\"mt-1 rounded-md p-2 w-full\" pattern=\"([01]\\d|2[0-3]):[0-5]\\d\" inputMode=\"numeric\" aria-describedby=\"birthTimeHelp\" />\r\n          <div id=\"birthTimeHelp\" className=\"text-xs text-gray-600 mt-1\">Provide local birth time to unlock Moon & Rising when used with coords. Format: <code>HH:MM</code>.</div>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"coords\" className=\"block text-sm\">Birth place (optional)</label>\r\n          <input id=\"coords\" value={coordsRaw} onChange={e=>setCoordsRaw(e.target.value)} placeholder=\"City, region or place name (e.g. New Delhi)\" className=\"mt-1 rounded-md p-2 w-full\" aria-describedby=\"coordsHelp\" />\r\n          <div id=\"coordsHelp\" className=\"text-xs text-gray-600 mt-1\">Type a location name ‚Äî we'll resolve coordinates & timezone for you (optional). Geocoding happens only when you ask to unlock deeper readings.</div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"flex items-center gap-2 text-sm\"><input type=\"checkbox\" checked={unlockDeep} onChange={e=>setUnlockDeep(e.target.checked)} /> <span>Unlock moon & rising (optional)</span></label>\r\n          <div className=\"text-xs text-gray-600\">Rising is time-sensitive. If you enable this, we estimate timezone from longitude (approx).</div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3\">\r\n          <button type=\"submit\" className=\"large-cta w-full sm:w-auto shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition\" aria-label=\"Show our connection\">üåü Show Our Connection</button>\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"mt-3 text-xs text-gray-600\">No sign-in needed, nothing saved ‚Äî just honest insight for your heart.</div>\r\n\r\n      {loading && (\r\n        <div className=\"mt-6 p-6 rounded bg-white/90 text-center animate-pulse\">\r\n          <div className=\"text-lg font-medium\">Aligning stars‚Ä¶</div>\r\n          <div className=\"mt-2\">Listening to your energies‚Ä¶ ‚ú®</div>\r\n        </div>\r\n      )}\r\n\r\n      {result && (\r\n        result.error ? (\r\n          <div className=\"mt-4 p-4 rounded bg-white/90\"><p className=\"text-sm text-red-600\">{result.error}</p></div>\r\n        ) : (\r\n          <div>\r\n            {/* concise top summary for quick scan */}\r\n            <div className=\"mt-4 p-4 rounded-lg bg-white/95 shadow-md flex items-center justify-between gap-4\" style={{border: '1px solid rgba(203,213,225,0.6)'}}>\r\n              <div>\r\n                <div className=\"text-sm text-gray-500\">Compatibility Energy</div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-20 h-20 rounded-full flex items-center justify-center bg-gradient-to-tr from-pink-400 to-purple-600 text-white text-2xl font-bold\">{computeCompatibilityScore(result.yours.name, result.partner.name, result.compatibility)}%</div>\r\n                  <div>\r\n                    <div className=\"text-lg font-semibold\">{scoreMessage(computeCompatibilityScore(result.yours.name, result.partner.name, result.compatibility))}</div>\r\n                    <div className=\"text-xs text-gray-600 mt-1\">A soft, useful guide ‚Äî not a prediction.</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-2 text-xs text-gray-500 italic\">Compatibility energy is a reflective tool ‚Äî not a prediction or decision-making model.</div>\r\n              </div>\r\n              <div className=\"flex gap-2 items-center\">\r\n                <div className=\"px-2 py-1 bg-white rounded border text-xs\">Tone: {result.tone || tone || '‚Äî'}</div>\r\n                <div className=\"px-2 py-1 bg-white rounded border text-xs\">Focus: {result.focus || focus || '‚Äî'}</div>\r\n                <button onClick={()=>setPartnerPerspective(p=>!p)} className=\"ml-2 px-2 py-1 rounded bg-white border text-xs\">\r\n                  {partnerPerspective ? 'Viewing: Partner' : 'View Partner‚Äôs Perspective'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\" aria-live=\"polite\">\r\n              <div className=\"col-span-1 p-4 rounded bg-white/90\">\r\n                <div className=\"font-semibold mb-3\">You</div>\r\n                <div className=\"mt-2 flex items-start gap-4\">\r\n                  <div className={`w-24 h-24 rounded-md overflow-hidden flex items-center justify-center ${elementAccent(result.yours?.element)}`}>\r\n                    {result.yours ? <ZodiacAvatar sign={result.yours.name} compact size={84} /> : null}\r\n                  </div>\r\n\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"text-lg font-semibold\">{result.yours.name}</div>\r\n                      <div className=\"text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-800\">{result.yours.element}</div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-2 text-sm text-slate-700\">{result.yours.insight}</div>\r\n\r\n                    <div className=\"mt-3\">\r\n                      <div className=\"text-xs font-semibold text-slate-600\">Mini habit</div>\r\n                      <div className=\"text-sm text-slate-700 mt-1\">{result.yours.habit}</div>\r\n                    </div>\r\n\r\n                    {result.deep ? (\r\n                      <div className=\"mt-3 text-xs text-slate-600\">\r\n                        <div><strong>Moon:</strong> {result.deep.moon?.sign} {result.deep.moon ? `(${Math.round(result.deep.moon.deg)}¬∞)` : ''}</div>\r\n                        <div><strong>Rising:</strong> {result.deep.asc?.sign} {result.deep.asc ? `(${Math.round(result.deep.asc.deg)}¬∞)` : ''}</div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-span-1 p-4 rounded bg-white/90\">\r\n                <div className=\"font-semibold\">Partner</div>\r\n                <div className=\"mt-2 flex items-center gap-3\">\r\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center ${elementAccent(result.partner?.element)}`}>{result.partner && result.partner.name ? <ZodiacAvatar sign={result.partner.name} /> : null}</div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">{result.partner.name}</div>\r\n                    <div className=\"text-xs mt-1\">Element: {result.partner.element || '‚Äî'}</div>\r\n                    <div className=\"text-xs mt-1\">{result.partner.insight || ''}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-span-1 p-4 rounded bg-white/90\">\r\n                <div className=\"font-semibold\">Energy Dynamic</div>\r\n                <div className=\"mt-2\">\r\n                  <blockquote className=\"italic text-sm\">‚Äú{result.compatibility.summary || 'Different rhythms, but a strong pull.'}‚Äù</blockquote>\r\n                  <div className=\"mt-3 font-semibold\">Compatibility Energy: {computeCompatibilityScore(result.yours.name, result.partner.name, result.compatibility)}% ‚Äî <span className=\"font-normal text-sm\">{scoreMessage(computeCompatibilityScore(result.yours.name, result.partner.name, result.compatibility))}</span></div>\r\n                  <div className=\"font-semibold mt-3\">Quick take</div>\r\n                  <p className=\"text-sm mt-1\">{result.compatibility.strengths}</p>\r\n                    <div className=\"mt-3 flex flex-col gap-2\">\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        <button disabled={sharing} onClick={()=>createShareCard(result)} className=\"px-3 py-2 rounded bg-gradient-to-tr from-pink-500 to-purple-600 text-white text-sm shadow w-full sm:w-auto\">Create share card üíå</button>\r\n                        <button onClick={downloadShare} disabled={!shareImgUrl} className=\"px-3 py-2 rounded bg-white border text-sm w-full sm:w-auto\">Download PNG</button>\r\n                        <button onClick={async ()=>{ const ok = await copyShareImage(); setCopySuccess(ok ? 'Copied image to clipboard' : 'Copy failed in this browser'); setTimeout(()=>setCopySuccess(null),2500) }} disabled={!shareImgUrl} className=\"px-3 py-2 rounded bg-white border text-sm w-full sm:w-auto\">Copy image</button>\r\n                        {copySuccess ? <div className=\"text-xs text-green-600\">{copySuccess}</div> : null}\r\n                      </div>\r\n                      {sharing ? <div className=\"text-sm text-gray-500\">Creating your share card‚Ä¶</div> : null}\r\n                      {shareImgUrl ? (\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"text-xs text-gray-600 mb-1\">Preview</div>\r\n                          <div className=\"w-full max-w-lg rounded overflow-hidden shadow-lg\">\r\n                            <img src={shareImgUrl} alt=\"Share preview\" className=\"w-full block\" />\r\n                          </div>\r\n                        </div>\r\n                      ) : null}\r\n                    </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-span-1 md:col-span-3\">\r\n                {buildReport(result.yours, result.partner, result.compatibility, result.tone || tone, result.focus || focus, partnerPerspective ? 'partner' : 'you')}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}